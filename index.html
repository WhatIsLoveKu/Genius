<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–•–∞–∫–µ—Ä—Å—å–∫–∏–π –∑–ª–æ–º</title>
    <style>
        body {
            background-color: black;
            color: #00ff00;
            font-family: "Courier New", monospace;
            padding: 20px;
        }
        #terminal {
            border: 2px solid #00ff00;
            padding: 10px;
            height: 300px;
            overflow-y: auto;
            white-space: pre-line;
        }
        input {
            background: black;
            border: none;
            color: #00ff00;
            font-family: "Courier New", monospace;
            width: 100%;
            outline: none;
        }
        .error {
            color: red;
        }
        .hidden {
            display: none;
        }
        .cursor {
            display: inline-block;
            width: 8px;
            height: 16px;
            background-color: #00ff00;
            animation: blink 0.8s infinite;
        }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <h1>–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–ø–µ–∫–∏ 2.0</h1>
    <div id="terminal">
        <p>–í—ñ—Ç–∞—î–º–æ –≤ —Å–∏—Å—Ç–µ–º—ñ. –í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É:</p>
        <span class="cursor"></span>
    </div>
    <input type="text" id="commandInput" autofocus>

    <script>
        let stage = 0;
        let password = "qwerty";  // –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥—É
        let correctFile = "hint.pdf";  // –§–∞–π–ª —ñ–∑ –ø—ñ–¥–∫–∞–∑–∫–æ—é
        let terminal = document.getElementById("terminal");
        let cursor = document.querySelector(".cursor");

        document.getElementById("commandInput").addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                let input = this.value.trim();
                this.value = "";
                processCommand(input);
            }
        });

        function typeMessage(message, error = false, delay = 50) {
            return new Promise(resolve => {
                let p = document.createElement("p");
                if (error) p.classList.add("error");
                terminal.insertBefore(p, cursor);

                let i = 0;
                function type() {
                    if (i < message.length) {
                        p.innerHTML += message[i];
                        i++;
                        setTimeout(type, delay);
                    } else {
                        resolve();
                    }
                }
                type();
                terminal.scrollTop = terminal.scrollHeight;
            });
        }

        async function processCommand(command) {
            if (stage === 0) {
                if (command === "login") {
                    await typeMessage("–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å:");
                    stage = 1;
                } else {
                    await typeMessage("–ü–æ–º–∏–ª–∫–∞: –Ω–µ–≤—ñ–¥–æ–º–∞ –∫–æ–º–∞–Ω–¥–∞", true);
                }
            } 
            else if (stage === 1) {
                if (command === password) {
                    await typeMessage("–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞! –†–æ–∑–ø–æ—á–∏–Ω–∞—é –∑–ª–æ–º...");
                    await typeMessage("–ü–æ–º–∏–ª–∫–∞: —Ñ–∞–π–ª –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ!", true);
                    await typeMessage("–í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É 'decrypt' –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.");
                    stage = 2;
                } else {
                    await typeMessage("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å!", true);
                }
            } 
            else if (stage === 2) {
                if (command === "decrypt") {
                    await typeMessage("–†–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è... 10%");
                    await new Promise(r => setTimeout(r, 1000));
                    await typeMessage("30%...");
                    await new Promise(r => setTimeout(r, 1000));
                    await typeMessage("60%...");
                    await new Promise(r => setTimeout(r, 1000));
                    await typeMessage("–†–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ! –î–æ—Å—Ç—É–ø–Ω—ñ —Ñ–∞–π–ª–∏: secret_code.docx, hint.pdf, virus.exe");
                    await typeMessage("–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è —Ñ–∞–π–ª—É –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è.");
                    stage = 3;
                } else {
                    await typeMessage("–ö–æ–º–∞–Ω–¥–∞ –Ω–µ–≤—ñ–¥–æ–º–∞!", true);
                }
            } 
            else if (stage === 3) {
                if (command === correctFile) {
                    await typeMessage("–§–∞–π–ª –≤—ñ–¥–∫—Ä–∏—Ç–æ! –£ –Ω—å–æ–º—É –Ω–∞–ø–∏—Å–∞–Ω–æ: '–ü–æ–¥–∞—Ä—É–Ω–æ–∫ —É –∫–æ—Ä–æ–±—Ü—ñ ‚Ññ7' üéÅ");
                    await typeMessage("–ó–ª–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–æ!");
                    stage = 4;
                } else {
                    await typeMessage("–ü–æ–º–∏–ª–∫–∞: —Ñ–∞–π–ª –ø–æ—à–∫–æ–¥–∂–µ–Ω–æ –∞–±–æ –Ω–µ —ñ—Å–Ω—É—î!", true);
                }
            }
        }
    </script>
</body>
</html>